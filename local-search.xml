<?xml version="1.0" encoding="utf-8"?>
<search>
  
  
  
  <entry>
    <title>蓝桥杯第十二届省赛CB组J题 括号序列（dp）</title>
    <link href="/2022/03/11/%E8%93%9D%E6%A1%A5%E6%9D%AF%E7%AC%AC%E5%8D%81%E4%BA%8C%E5%B1%8A%E7%9C%81%E8%B5%9BCB%E7%BB%84J%E9%A2%98-%E6%8B%AC%E5%8F%B7%E5%BA%8F%E5%88%97%EF%BC%88dp%EF%BC%89/"/>
    <url>/2022/03/11/%E8%93%9D%E6%A1%A5%E6%9D%AF%E7%AC%AC%E5%8D%81%E4%BA%8C%E5%B1%8A%E7%9C%81%E8%B5%9BCB%E7%BB%84J%E9%A2%98-%E6%8B%AC%E5%8F%B7%E5%BA%8F%E5%88%97%EF%BC%88dp%EF%BC%89/</url>
    
    <content type="html"><![CDATA[<img src="/2022/03/11/%E8%93%9D%E6%A1%A5%E6%9D%AF%E7%AC%AC%E5%8D%81%E4%BA%8C%E5%B1%8A%E7%9C%81%E8%B5%9BCB%E7%BB%84J%E9%A2%98-%E6%8B%AC%E5%8F%B7%E5%BA%8F%E5%88%97%EF%BC%88dp%EF%BC%89/problem.png" alt="problem">]]></content>
    
    
    
    <tags>
      
      <tag>solves</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Codeforces Round 774(Div.2) Problem C(树形背包)</title>
    <link href="/2022/03/09/cf774div2p4/"/>
    <url>/2022/03/09/cf774div2p4/</url>
    
    <content type="html"><![CDATA[<h2 id="原题链接"><a href="#原题链接" class="headerlink" title="原题链接"></a><a href="https://codeforces.com/contest/1646/problem/D">原题链接</a></h2><h2 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><span class="hljs-type">const</span> <span class="hljs-type">int</span> N = <span class="hljs-number">2e5</span> + <span class="hljs-number">10</span>;<br>vector&lt;<span class="hljs-type">int</span>&gt; h[N];<span class="hljs-comment">//tree</span><br><span class="hljs-type">int</span> n, ans[N];<br><span class="hljs-type">bool</span> v[N];<span class="hljs-comment">//visited</span><br>pair&lt;<span class="hljs-type">int</span>, <span class="hljs-type">int</span>&gt; dp[N][<span class="hljs-number">2</span>];<span class="hljs-comment">// &#123;max num of good vertices, min sum of weights of good vertices&#125;</span><br><br><span class="hljs-function"><span class="hljs-type">bool</span> <span class="hljs-title">cmp</span><span class="hljs-params">(pair&lt;<span class="hljs-type">int</span>, <span class="hljs-type">int</span>&gt; &amp;a, pair&lt;<span class="hljs-type">int</span>, <span class="hljs-type">int</span>&gt; &amp;b)</span></span><br><span class="hljs-function"></span>&#123;<br><span class="hljs-keyword">if</span>(a.first == b.first) <span class="hljs-keyword">return</span> a.second &lt; b.second;<br><span class="hljs-keyword">else</span> <span class="hljs-keyword">return</span> a.first &gt; b.first;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">init</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>cin &gt;&gt; n;<br><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; n - <span class="hljs-number">1</span>; i ++)<br>&#123;<br><span class="hljs-type">int</span> u, v;<br>cin &gt;&gt; u &gt;&gt; v;<br>h[u].<span class="hljs-built_in">push_back</span>(v), h[v].<span class="hljs-built_in">push_back</span>(u);<br>&#125;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">add</span><span class="hljs-params">(pair&lt;<span class="hljs-type">int</span>, <span class="hljs-type">int</span>&gt; &amp;a, pair&lt;<span class="hljs-type">int</span>, <span class="hljs-type">int</span>&gt; &amp;b)</span></span><br><span class="hljs-function"></span>&#123;<br>a.first += b.first;<br>a.second += b.second;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">dfs</span><span class="hljs-params">(<span class="hljs-type">int</span> i)</span></span><br><span class="hljs-function"></span>&#123;<br>v[i] = <span class="hljs-literal">true</span>;<br>dp[i][<span class="hljs-number">0</span>] = &#123;<span class="hljs-number">0</span>, <span class="hljs-number">1</span>&#125;, dp[i][<span class="hljs-number">1</span>] = &#123;<span class="hljs-number">1</span>, h[i].<span class="hljs-built_in">size</span>()&#125;;<br><span class="hljs-comment">//不好的那权值就是1，好的边上都是不好的（1），所以权值就是邻点个数*1</span><br><span class="hljs-keyword">for</span>(<span class="hljs-keyword">auto</span> s : h[i])<br><span class="hljs-keyword">if</span>(!v[s])&#123;<br><span class="hljs-built_in">dfs</span>(s);<br><span class="hljs-built_in">add</span>(dp[i][<span class="hljs-number">1</span>], dp[s][<span class="hljs-number">0</span>]);<br><span class="hljs-keyword">if</span>(<span class="hljs-built_in">cmp</span>(dp[s][<span class="hljs-number">0</span>], dp[s][<span class="hljs-number">1</span>])) <span class="hljs-built_in">add</span>(dp[i][<span class="hljs-number">0</span>], dp[s][<span class="hljs-number">0</span>]);<br><span class="hljs-keyword">else</span> <span class="hljs-built_in">add</span>(dp[i][<span class="hljs-number">0</span>], dp[s][<span class="hljs-number">1</span>]);<br>&#125;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">getAns</span><span class="hljs-params">(<span class="hljs-type">int</span> i, <span class="hljs-type">bool</span> g)</span> <span class="hljs-comment">//从上到下dp</span></span><br><span class="hljs-function"></span>&#123;<br>v[i] = <span class="hljs-literal">true</span>;<br>ans[i] = g ? h[i].<span class="hljs-built_in">size</span>() : <span class="hljs-number">1</span>;<br><span class="hljs-keyword">for</span>(<span class="hljs-keyword">auto</span> s : h[i])<br><span class="hljs-keyword">if</span>(!v[s])&#123;<br><span class="hljs-keyword">if</span>(g == <span class="hljs-number">0</span>)&#123;<br><span class="hljs-keyword">if</span>(<span class="hljs-built_in">cmp</span>(dp[s][<span class="hljs-number">0</span>], dp[s][<span class="hljs-number">1</span>])) <span class="hljs-built_in">getAns</span>(s, <span class="hljs-number">0</span>);<br><span class="hljs-keyword">else</span> <span class="hljs-built_in">getAns</span>(s, <span class="hljs-number">1</span>);<br>&#125;<span class="hljs-keyword">else</span> <span class="hljs-built_in">getAns</span>(s, <span class="hljs-number">0</span>);<br>&#125;<br>&#125;<br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>ios::<span class="hljs-built_in">sync_with_stdio</span>(<span class="hljs-literal">false</span>);<br>    cin.<span class="hljs-built_in">tie</span>(<span class="hljs-number">0</span>);<br><br>    <span class="hljs-built_in">init</span>();<br>    <span class="hljs-keyword">if</span>(n == <span class="hljs-number">2</span>)&#123; <span class="hljs-comment">//special</span><br>    cout &lt;&lt; <span class="hljs-string">&quot;2 2\n1 1\n&quot;</span>;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>    &#125;<br>    <span class="hljs-built_in">dfs</span>(<span class="hljs-number">1</span>);<br><br>    <span class="hljs-built_in">memset</span>(v, <span class="hljs-number">0</span>, <span class="hljs-keyword">sizeof</span> v);<br><br>    <span class="hljs-keyword">if</span>(<span class="hljs-built_in">cmp</span>(dp[<span class="hljs-number">1</span>][<span class="hljs-number">0</span>], dp[<span class="hljs-number">1</span>][<span class="hljs-number">1</span>])) <span class="hljs-built_in">getAns</span>(<span class="hljs-number">1</span>, <span class="hljs-number">0</span>), cout &lt;&lt; dp[<span class="hljs-number">1</span>][<span class="hljs-number">0</span>].first &lt;&lt; <span class="hljs-string">&#x27; &#x27;</span> &lt;&lt; dp[<span class="hljs-number">1</span>][<span class="hljs-number">0</span>].second &lt;&lt; <span class="hljs-string">&#x27;\n&#x27;</span>;<br>    <span class="hljs-keyword">else</span> <span class="hljs-built_in">getAns</span>(<span class="hljs-number">1</span>, <span class="hljs-number">1</span>), cout &lt;&lt; dp[<span class="hljs-number">1</span>][<span class="hljs-number">1</span>].first &lt;&lt; <span class="hljs-string">&#x27; &#x27;</span> &lt;&lt; dp[<span class="hljs-number">1</span>][<span class="hljs-number">1</span>].second &lt;&lt; <span class="hljs-string">&#x27;\n&#x27;</span>;<br><br>    <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; i ++) cout &lt;&lt; ans[i] &lt;&lt; <span class="hljs-string">&#x27; &#x27;</span>;<br>    cout &lt;&lt; <span class="hljs-string">&#x27;\n&#x27;</span>;<br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h2><p><a href="https://www.bilibili.com/video/BV1TL4y1u7P7?p=4">Bilibili</a></p>]]></content>
    
    
    
    <tags>
      
      <tag>solves</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>DOJ没有上司的舞会2（树形背包）</title>
    <link href="/2022/03/08/DOJ%E6%B2%A1%E6%9C%89%E4%B8%8A%E5%8F%B8%E7%9A%84%E8%88%9E%E4%BC%9A2/"/>
    <url>/2022/03/08/DOJ%E6%B2%A1%E6%9C%89%E4%B8%8A%E5%8F%B8%E7%9A%84%E8%88%9E%E4%BC%9A2/</url>
    
    <content type="html"><![CDATA[<p><a href="http://oj.daimayuan.top/course/5/problem/219">原题链接</a></p><h1 id="没有上司的舞会2"><a href="#没有上司的舞会2" class="headerlink" title="没有上司的舞会2"></a>没有上司的舞会2</h1><h2 id="题目描述"><a href="#题目描述" class="headerlink" title="题目描述"></a>题目描述</h2><p>一家公司里有 $n$ 个员工，除了公司 CEO 外，每个人都有一个直接上司。今天公司要办一个舞会，为了大家玩得尽兴，如果某个员工的直接上司来了，他&#x2F;她就不想来了。第 $i$ 个员工来参加舞会会为大家带来 $a_i$ 点快乐值。由于场地有大小限制，场地最多只能容纳 $m$ 个人。请求出快乐值最大是多少。</p><h2 id="输入格式"><a href="#输入格式" class="headerlink" title="输入格式"></a>输入格式</h2><p>第一行2个整数$n,m$。</p><p>接下来一行，$n-1$个整数$f_2,f_3…f_n$，$f_i(2\le i\le n)$表示第$i$个员工的上司。其中$1$号点为CEO，没有上司。</p><p>接下来一行，$n$个整数$a_1,a_2…a_n$表示每个员工的快乐值。</p><h2 id="输出格式"><a href="#输出格式" class="headerlink" title="输出格式"></a>输出格式</h2><p>一行一个整数，表示答案。</p><h2 id="样例输入"><a href="#样例输入" class="headerlink" title="样例输入"></a>样例输入</h2><figure class="highlight basic"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs basic"><span class="hljs-symbol">5 </span><span class="hljs-number">2</span><br><span class="hljs-symbol">1 </span><span class="hljs-number">2</span> <span class="hljs-number">3</span> <span class="hljs-number">1</span><br><span class="hljs-symbol">1 </span><span class="hljs-number">8</span> <span class="hljs-number">10</span> <span class="hljs-number">8</span> <span class="hljs-number">2</span><br></code></pre></td></tr></table></figure><h2 id="样例输出"><a href="#样例输出" class="headerlink" title="样例输出"></a>样例输出</h2><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs">16<br></code></pre></td></tr></table></figure><h2 id="数据规模"><a href="#数据规模" class="headerlink" title="数据规模"></a>数据规模</h2><p>对于所有数据，保证$2\le n \le 500, 0 \le m \le n,1 \le a_i \le 100000$。</p><h2 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><span class="hljs-type">const</span> <span class="hljs-type">int</span> N = <span class="hljs-number">505</span>;<br>vector&lt;<span class="hljs-type">int</span>&gt; h[N];<br><span class="hljs-type">int</span> f[N][N][<span class="hljs-number">2</span>], w[N];<br><span class="hljs-type">int</span> n, m;<br><br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">dfs</span><span class="hljs-params">(<span class="hljs-type">int</span> i)</span></span>&#123;<br><span class="hljs-comment">//把结点i看成一个容量为m的背包</span><br><span class="hljs-comment">//每一个直接子树都看成一种物品（每种物品最多取m个）</span><br><span class="hljs-comment">//遍历每一个直接子树</span><br><span class="hljs-keyword">for</span>(<span class="hljs-keyword">auto</span> s : h[i])<br>&#123;<br><span class="hljs-built_in">dfs</span>(s);<br><span class="hljs-comment">//先递归处理子树</span><br><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> j = m; j &gt;= <span class="hljs-number">0</span>; j --)<br>&#123;<br><span class="hljs-comment">//在s和s之前最多取了j个物品（占用了j容量）</span><br><span class="hljs-comment">//为了保证一次循环中，s不会被取多次（即不会更新之后又用它更新其他的情况）</span><br><span class="hljs-comment">//所以j从大到小遍历，因为下面状态更新的时候只会调用比j小的状态</span><br><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> k = <span class="hljs-number">0</span>; k &lt;= j; k ++)<br>&#123;<br><span class="hljs-comment">//枚举取0~j个s物品的情况，0表示i不取，1表示i取</span><br>f[i][j][<span class="hljs-number">0</span>] = <span class="hljs-built_in">max</span>(f[i][j][<span class="hljs-number">0</span>], f[i][j - k][<span class="hljs-number">0</span>] + <span class="hljs-built_in">max</span>(f[s][k][<span class="hljs-number">1</span>], f[s][k][<span class="hljs-number">0</span>]));<br><span class="hljs-comment">//f[i][j - k][0]表示上一个状态下，最多取j-k个物品的最大价值，这样就可以再取k个s物品</span><br><span class="hljs-comment">//因为i没取，所以可以从直接孩子取或不取里面取最大的</span><br>f[i][j][<span class="hljs-number">1</span>] = <span class="hljs-built_in">max</span>(f[i][j][<span class="hljs-number">1</span>], f[i][j - k][<span class="hljs-number">1</span>] + f[s][k][<span class="hljs-number">0</span>]);<br><span class="hljs-comment">//因为i也取，所以只能从f[s][k][0]转移</span><br>&#125;<br>&#125;<br>&#125;<br><span class="hljs-comment">//但是实际上，我们得到的f[i][j][1]是以i为背包，最多取j个物品的最大价值，里面并不包含i物品本身</span><br><span class="hljs-comment">//所以我们需要再把i物品加进去，因此在最多取j-1个物品的最大价值里面加上i物品的价值即可</span><br><span class="hljs-comment">//这样我们的f[i][j][1]就表示以i为背包，最多取j个物品，里面且包含i物品本身的最大价值</span><br><span class="hljs-comment">//同样为了重复计算，我们要从大到小遍历</span><br><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> j = m; j; j --)<br>f[i][j][<span class="hljs-number">1</span>] = f[i][j - <span class="hljs-number">1</span>][<span class="hljs-number">1</span>] + w[i];<br><br><span class="hljs-comment">// f[i][0][1] = 0; //默认是0，所以无所谓</span><br>&#125;<br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>ios::<span class="hljs-built_in">sync_with_stdio</span>(<span class="hljs-literal">false</span>);<br>    cin.<span class="hljs-built_in">tie</span>(<span class="hljs-number">0</span>);<br><br><br>    cin &gt;&gt; n &gt;&gt; m;<br><br>    <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">2</span>; i &lt;= n; i ++)&#123;<br>    <span class="hljs-type">int</span> x;<br>    cin &gt;&gt; x;<br>    h[x].<span class="hljs-built_in">push_back</span>(i);<br>    &#125;<br><br>    <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; i ++) cin &gt;&gt; w[i];<br><br>    <span class="hljs-built_in">dfs</span>(<span class="hljs-number">1</span>);<br><br>cout &lt;&lt; <span class="hljs-built_in">max</span>(f[<span class="hljs-number">1</span>][m][<span class="hljs-number">1</span>], f[<span class="hljs-number">1</span>][m][<span class="hljs-number">0</span>]) &lt;&lt; endl;<br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    
    <tags>
      
      <tag>solves</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Codeforces Round 775(Div.2) Problem C Weird Sum(匿名函数的使用)</title>
    <link href="/2022/03/07/cf775div2p3/"/>
    <url>/2022/03/07/cf775div2p3/</url>
    
    <content type="html"><![CDATA[<h2 id="原题链接"><a href="#原题链接" class="headerlink" title="原题链接"></a><a href="https://codeforces.com/contest/1649/problem/C">原题链接</a></h2><h2 id="C-Lambda函数（匿名函数）的使用方法"><a href="#C-Lambda函数（匿名函数）的使用方法" class="headerlink" title="C++ Lambda函数（匿名函数）的使用方法"></a>C++ Lambda函数（匿名函数）的使用方法</h2><p>​    首先了解一下 C++ 匿名函数的基本使用方法</p><h3 id="基本语法"><a href="#基本语法" class="headerlink" title="基本语法"></a>基本语法</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-comment">//[捕获列表](参数列表)-&gt;返回类型&#123;函数体&#125;</span><br><span class="hljs-keyword">auto</span> f = [](<span class="hljs-type">int</span> a, <span class="hljs-type">int</span> b)-&gt;<span class="hljs-type">int</span> &#123;<br><span class="hljs-keyword">return</span> a + b;<br>&#125;;<br></code></pre></td></tr></table></figure><h3 id="捕获列表"><a href="#捕获列表" class="headerlink" title="捕获列表"></a>捕获列表</h3><p>​    <code>[]</code>：空捕获列表，Lambda不能使用所在函数中的变量。</p><p>​    <code>[&amp;]</code>：隐式捕获列表，Lambda体内使用的局部变量都按引用方式传递。</p><p>​    <code>[=]</code>：隐式捕获列表，Lambda体内使用的局部变量都按值传递。</p><h3 id="返回类型"><a href="#返回类型" class="headerlink" title="返回类型"></a>返回类型</h3><p>​    可以不填，默认为return语句返回值的返回类型。</p><h3 id="应用"><a href="#应用" class="headerlink" title="应用"></a>应用</h3><h4 id="sort-排序"><a href="#sort-排序" class="headerlink" title="$sort$排序"></a>$sort$排序</h4><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-keyword">auto</span> cmp = [&amp;](pair&lt;<span class="hljs-type">int</span>, <span class="hljs-type">int</span>&gt; p1, pair&lt;<span class="hljs-type">int</span>, <span class="hljs-type">int</span>&gt; p2)&#123;<br><span class="hljs-keyword">return</span> p1.second &lt; p2.second;<br>&#125;;<br><span class="hljs-built_in">sort</span>(v.<span class="hljs-built_in">begin</span>(), v.<span class="hljs-built_in">end</span>(), cmp);<br></code></pre></td></tr></table></figure><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-built_in">sort</span>(v.<span class="hljs-built_in">begin</span>(), v.<span class="hljs-built_in">end</span>(), [&amp;](<span class="hljs-keyword">auto</span> a, <span class="hljs-keyword">auto</span> b)&#123;<br><span class="hljs-keyword">return</span> a.second &lt; b.second;<br>&#125;);<br></code></pre></td></tr></table></figure><h4 id="在-main-函数里写递归调用"><a href="#在-main-函数里写递归调用" class="headerlink" title="在$main$函数里写递归调用"></a>在$main$函数里写递归调用</h4><p><a href="https://leetcode-cn.com/problems/maximum-depth-of-binary-tree/">104. 二叉树的最大深度</a></p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span> &#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">maxDepth</span><span class="hljs-params">(TreeNode* root)</span> </span>&#123;<br>        <span class="hljs-comment">//在匿名函数中第一个参数是自身，且在内部都使用那个名字</span><br>        <span class="hljs-keyword">auto</span> dfs = [&amp;](<span class="hljs-keyword">auto</span> &amp;self, TreeNode *root)-&gt;<span class="hljs-type">int</span>&#123;<br>            <span class="hljs-keyword">if</span>(!root) <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>            <span class="hljs-keyword">else</span> <span class="hljs-keyword">return</span> <span class="hljs-built_in">max</span>(<span class="hljs-built_in">self</span>(self, root-&gt;left), <span class="hljs-built_in">self</span>(self, root-&gt;right)) + <span class="hljs-number">1</span>;<br>        &#125;;<br>        <span class="hljs-keyword">return</span> <span class="hljs-built_in">dfs</span>(dfs, root);<span class="hljs-comment">//别忘了参数要有自身</span><br>    &#125;<br>&#125;;<br></code></pre></td></tr></table></figure><p><a href="https://leetcode-cn.com/problems/binary-tree-maximum-path-sum/">124. 二叉树中的最大路径和</a></p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span> &#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">maxPathSum</span><span class="hljs-params">(TreeNode* root)</span> </span>&#123;<br>        <span class="hljs-type">int</span> maxsum = <span class="hljs-number">-2e9</span>;<br>        <span class="hljs-keyword">auto</span> dfs = [&amp;](<span class="hljs-keyword">auto</span> &amp;self, TreeNode* root) -&gt;<span class="hljs-type">int</span>&#123;<br>            <span class="hljs-keyword">if</span>(!root) <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>            <span class="hljs-type">int</span> l = <span class="hljs-built_in">max</span>(<span class="hljs-built_in">self</span>(self, root-&gt;left), <span class="hljs-number">0</span>), r = <span class="hljs-built_in">max</span>(<span class="hljs-built_in">self</span>(self, root-&gt;right), <span class="hljs-number">0</span>);<br>            maxsum = <span class="hljs-built_in">max</span>(maxsum, root-&gt;val + l + r);<br>            <span class="hljs-keyword">return</span> root-&gt;val + <span class="hljs-built_in">max</span>(l, r);<br>        &#125;;<br>        <span class="hljs-built_in">dfs</span>(dfs, root);<br>        <span class="hljs-keyword">return</span> maxsum;<br>    &#125;<br>&#125;;<br></code></pre></td></tr></table></figure><h2 id="本题题意"><a href="#本题题意" class="headerlink" title="本题题意"></a>本题题意</h2><p>​    给一个$n*m$的表格，每个单元格里面有一个数字，代表一种颜色，求所有两两相同颜色的单元格的<a href="https://baike.baidu.com/item/%E6%9B%BC%E5%93%88%E9%A1%BF%E8%B7%9D%E7%A6%BB/743092">曼哈顿距离</a>之和。</p><h2 id="思路"><a href="#思路" class="headerlink" title="思路"></a>思路</h2><p>​    1.用$map&lt;int, pair&lt;int,int&gt;&gt;$记录所有颜色所在的单元格。</p><p>​    2.对某一种颜色，我们将其横坐标排序，遍历每一个横坐标，假设当前位置为$i$，我们记录前面所有的横坐标总个数$cnt$以及所有横坐标之和$sum$，不难证明，当前横坐标和前面所有横坐标的距离之和为$cnt * i - sum$，因此，我们可以得到当前颜色的所有横坐标两两组合的距离之和，并且由于我们是从小到大枚举，所以得到的答案就是两两横坐标距离差的绝对值之和，即曼哈顿距离的要求。</p><p>​    3.同样的，我们对纵坐标进行操作，最后两者相加即是答案。</p><h2 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;algorithm&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;vector&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;map&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br><span class="hljs-type">int</span> n, m;<br>map&lt;<span class="hljs-type">int</span>, vector&lt;pair&lt;<span class="hljs-type">int</span>, <span class="hljs-type">int</span>&gt;&gt;&gt; mp;<br><br>cin &gt;&gt; n &gt;&gt; m;<br><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; n; i ++)<br><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> j = <span class="hljs-number">0</span>; j &lt; m; j ++)<br>&#123;<br><span class="hljs-type">int</span> x;<br>cin &gt;&gt; x;<br>mp[x].<span class="hljs-built_in">push_back</span>(&#123;i, j&#125;);<br>&#125;<br><br><span class="hljs-comment">// auto cmp = [&amp;](pair&lt;int, int&gt; p1, pair&lt;int, int&gt; p2)&#123;</span><br><span class="hljs-comment">// return p1.second &lt; p2.second;</span><br><span class="hljs-comment">// &#125;;</span><br><br><span class="hljs-keyword">auto</span> sol = [&amp;](vector&lt;pair&lt;<span class="hljs-type">int</span>, <span class="hljs-type">int</span>&gt;&gt; v)&#123;<br><span class="hljs-type">long</span> <span class="hljs-type">long</span> res = <span class="hljs-number">0</span>;<br><span class="hljs-built_in">sort</span>(v.<span class="hljs-built_in">begin</span>(), v.<span class="hljs-built_in">end</span>());<br><span class="hljs-type">long</span> <span class="hljs-type">long</span> cnt = <span class="hljs-number">0</span>, sum = <span class="hljs-number">0</span>;<br><span class="hljs-keyword">for</span>(<span class="hljs-keyword">auto</span> &amp;[i, j] : v)<br>&#123;<br>res += i * cnt - sum;<br>sum += i;<br>cnt ++;<br>&#125;<br>cnt = sum = <span class="hljs-number">0</span>;<br><span class="hljs-comment">// sort(v.begin(), v.end(), cmp);</span><br><br><span class="hljs-built_in">sort</span>(v.<span class="hljs-built_in">begin</span>(), v.<span class="hljs-built_in">end</span>(), [&amp;](<span class="hljs-keyword">auto</span> a, <span class="hljs-keyword">auto</span> b)&#123;<br><span class="hljs-keyword">return</span> a.second &lt; b.second;<br>&#125;);<br><br><span class="hljs-keyword">for</span>(<span class="hljs-keyword">auto</span> &amp;[j, i] : v)<br>&#123;<br>res += i * cnt - sum;<br>sum += i;<br>cnt ++;<br>&#125;<br><span class="hljs-keyword">return</span> res;<br>&#125;;<br><br><span class="hljs-type">long</span> <span class="hljs-type">long</span> ans = <span class="hljs-number">0</span>;<br><span class="hljs-keyword">for</span>(<span class="hljs-keyword">auto</span> &amp;[c, v] : mp)<br>ans += <span class="hljs-built_in">sol</span>(v);<br><br>cout &lt;&lt; ans &lt;&lt; endl;<br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    
    <tags>
      
      <tag>solves</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>DOJ Daily Div2 107 饿饿 饭饭（二分/模拟）</title>
    <link href="/2022/03/04/DOJ-Daily-Div2-107-%E9%A5%BF%E9%A5%BF-%E9%A5%AD%E9%A5%AD/"/>
    <url>/2022/03/04/DOJ-Daily-Div2-107-%E9%A5%BF%E9%A5%BF-%E9%A5%AD%E9%A5%AD/</url>
    
    <content type="html"><![CDATA[<p><a href="http://oj.daimayuan.top/course/11/problem/463">原题链接</a></p><h4 id="题意"><a href="#题意" class="headerlink" title="题意"></a>题意</h4><p>食堂排队，队伍里第$i$个人想吃$a_i$碗，但是每次只能打一碗饭，打完就去后面继续排。食堂一共就一个窗口，请问发出去$k$碗饭之后，队伍是什么样子的。如果还有人，按当前队伍输出每个人的编号；如果k碗饭没发完就没人了，输出”-1”。</p><h4 id="输入格式"><a href="#输入格式" class="headerlink" title="输入格式"></a>输入格式</h4><p>第一行给出两个整数$n,k$。</p><p>第二行给出$n$个整数$a_1,a_2…a_n$。</p><h4 id="输出格式"><a href="#输出格式" class="headerlink" title="输出格式"></a>输出格式</h4><p>如果食堂阿姨打饭数少于k，请输出”-1”。</p><p>否则按照队伍顺序输出每一个同学的编号。</p><h4 id="样例输入1"><a href="#样例输入1" class="headerlink" title="样例输入1"></a>样例输入1</h4><figure class="highlight basic"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs basic"><span class="hljs-symbol">3 </span><span class="hljs-number">3</span><br><span class="hljs-symbol">1 </span><span class="hljs-number">2</span> <span class="hljs-number">1</span><br></code></pre></td></tr></table></figure><h4 id="样例输出1"><a href="#样例输出1" class="headerlink" title="样例输出1"></a>样例输出1</h4><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs">2<br></code></pre></td></tr></table></figure><h4 id="样例输入2"><a href="#样例输入2" class="headerlink" title="样例输入2"></a>样例输入2</h4><figure class="highlight basic"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs basic"><span class="hljs-symbol">4 </span><span class="hljs-number">10</span><br><span class="hljs-symbol">3 </span><span class="hljs-number">3</span> <span class="hljs-number">2</span> <span class="hljs-number">1</span><br></code></pre></td></tr></table></figure><h4 id="样例输出2"><a href="#样例输出2" class="headerlink" title="样例输出2"></a>样例输出2</h4><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs diff"><span class="hljs-deletion">-1</span><br></code></pre></td></tr></table></figure><h4 id="样例输入3"><a href="#样例输入3" class="headerlink" title="样例输入3"></a>样例输入3</h4><figure class="highlight basic"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs basic"><span class="hljs-symbol">7 </span><span class="hljs-number">10</span><br><span class="hljs-symbol">1 </span><span class="hljs-number">3</span> <span class="hljs-number">3</span> <span class="hljs-number">1</span> <span class="hljs-number">2</span> <span class="hljs-number">3</span> <span class="hljs-number">1</span><br></code></pre></td></tr></table></figure><h4 id="样例输出3"><a href="#样例输出3" class="headerlink" title="样例输出3"></a>样例输出3</h4><figure class="highlight basic"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs basic"><span class="hljs-symbol">6 </span><span class="hljs-number">2</span> <span class="hljs-number">3</span><br></code></pre></td></tr></table></figure><h4 id="思路1"><a href="#思路1" class="headerlink" title="思路1"></a>思路1</h4><p>第一步，每次找到队伍中吃最少的那个，让所有人都吃那么多，然后那个人就吃饱溜了。直到剩下的饭不够这么干。第二部，剩下的饭再试着每个人都发一碗，看看能发几次。第三步，剩下的饭不够每个人都发一碗的，这个时候才会有人打了饭排到后面去，我们枚举每个剩下的人，如果他打了饭排到后面去了，就push到一个数组，剩下的push到另一个数组，最后分别输出即可。</p><h4 id="思路2"><a href="#思路2" class="headerlink" title="思路2"></a>思路2</h4><p>思路1是一步一步找到最后其中第三步的情况的，我们也可以二分以下我们一共发了多少轮饭（一轮表示每个人都发一碗），最后处理方式同上。</p><h4 id="代码（模拟）"><a href="#代码（模拟）" class="headerlink" title="代码（模拟）"></a>代码（模拟）</h4><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;algorithm&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;cstring&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;vector&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><span class="hljs-type">long</span> <span class="hljs-type">long</span> n, k, a[<span class="hljs-number">100010</span>], b[<span class="hljs-number">100010</span>];<br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>cin &gt;&gt; n &gt;&gt; k;<br><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; n; i ++) cin &gt;&gt; a[i], b[i] = a[i];<br><span class="hljs-built_in">sort</span>(a, a + n);<br><span class="hljs-comment">//排个序，每次找吃的最少的把他干了</span><br><span class="hljs-comment">//怎么干，他吃多少碗，那所有人都吃多少碗</span><br><span class="hljs-comment">//那么所有人的相对顺序是不变的</span><br><span class="hljs-type">long</span> <span class="hljs-type">long</span> cnt = <span class="hljs-number">0</span>, left = n;<br><span class="hljs-comment">//cnt记录还在排队的人都吃了多少碗，left记录还剩下多少人排队</span><br><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; n; i ++)<br>&#123;<br><span class="hljs-comment">//一次干走一个人，他吃多少碗那大家都吃多少碗</span><br><span class="hljs-keyword">if</span>(k &lt; (a[i] - cnt) * left) <span class="hljs-keyword">break</span>;<br><span class="hljs-comment">//如果每个人都吃(a[i]-cnt)个的话，剩下的k碗不够吃了，那剩下的人就都不会被干走</span><br><span class="hljs-keyword">else</span><br>&#123;<br>k -= (a[i] - cnt) * left;<br><span class="hljs-comment">//否则每个人都吃a[i]-cnt碗，为什么不是a[i]因为i号人他之前吃了cnt碗了，再吃a[i]-cnt碗就饱了</span><br>cnt += (a[i] - cnt);<br><span class="hljs-comment">//记录一下剩下的人已经吃了多少碗</span><br>left --;<br><span class="hljs-comment">//赶走吃饱的人</span><br>&#125;<br>&#125;<br><br><span class="hljs-keyword">if</span>(!left &amp;&amp; k) cout &lt;&lt; <span class="hljs-number">-1</span> &lt;&lt; endl;<span class="hljs-comment">//如果没有人，并且还有饭</span><br><span class="hljs-keyword">else</span><br>&#123;<br>cnt += k / left;<br><span class="hljs-comment">//剩下的饭先平分给剩下的人，这时的排队相对顺序和开始时候是一样的</span><br><span class="hljs-type">long</span> <span class="hljs-type">long</span> h = k % left;<br><span class="hljs-comment">//这个h就是平分给剩下的人之后剩下来的饭，但是它不够每个人吃一碗</span><br><span class="hljs-comment">//那么我们就给排在前面还能吃的人再吃一碗</span><br>vector&lt;<span class="hljs-type">long</span> <span class="hljs-type">long</span>&gt; ans1, ans2;<br><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; n; i ++)<br>&#123;<br><span class="hljs-keyword">if</span>(b[i] &gt; cnt)<span class="hljs-comment">//如果他现在还在队伍里</span><br>&#123;<br><span class="hljs-keyword">if</span>(h &gt; <span class="hljs-number">0</span>)<span class="hljs-comment">//如果生下来的饭没发完</span><br>&#123;<br><span class="hljs-keyword">if</span>(b[i] &gt; cnt + <span class="hljs-number">1</span>) ans1.<span class="hljs-built_in">push_back</span>(i + <span class="hljs-number">1</span>)；<br><span class="hljs-comment">//如果i还在队伍里，并且吃了一碗之后还没吃饱，那他就排到队伍后面</span><br>h --;<span class="hljs-comment">//发完一碗</span><br>&#125;<br><span class="hljs-keyword">else</span> ans2.<span class="hljs-built_in">push_back</span>(i + <span class="hljs-number">1</span>);<br><span class="hljs-comment">//剩下的饭都发完了(h=0),那下面留下的人就都在队头</span><br>&#125;<br>&#125;<br><br><span class="hljs-keyword">for</span>(<span class="hljs-keyword">auto</span> x : ans2) cout &lt;&lt; x &lt;&lt; <span class="hljs-string">&#x27; &#x27;</span>;<span class="hljs-comment">//输出队头</span><br><span class="hljs-keyword">for</span>(<span class="hljs-keyword">auto</span> x : ans1) cout &lt;&lt; x &lt;&lt; <span class="hljs-string">&#x27; &#x27;</span>;<span class="hljs-comment">//输出队尾</span><br>cout &lt;&lt; endl;<br>&#125;<br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    
    <tags>
      
      <tag>solves</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Luogu P2602 数字计数(数位dp)</title>
    <link href="/2022/03/01/Luogu-P2602-%E6%95%B0%E5%AD%97%E8%AE%A1%E6%95%B0/"/>
    <url>/2022/03/01/Luogu-P2602-%E6%95%B0%E5%AD%97%E8%AE%A1%E6%95%B0/</url>
    
    <content type="html"><![CDATA[<h1 id="P2602-ZJOI2010-数字计数"><a href="#P2602-ZJOI2010-数字计数" class="headerlink" title="P2602 [ZJOI2010]数字计数"></a>P2602 [ZJOI2010]数字计数</h1><p>原题链接 <a href="https://www.luogu.com.cn/problem/P2602">洛谷</a></p><h2 id="题目描述"><a href="#题目描述" class="headerlink" title="题目描述"></a>题目描述</h2><p>给定两个正整数 $a$和 $b$，求在 $[a,b]$中的所有整数中，每个数码(digit)各出现了多少次。</p><h2 id="输入格式"><a href="#输入格式" class="headerlink" title="输入格式"></a>输入格式</h2><p>仅包含一行两个整数  $a$和 $b$，含义如上所述。</p><h2 id="输出格式"><a href="#输出格式" class="headerlink" title="输出格式"></a>输出格式</h2><p>包含一行十个整数，分别表示$0$~$9$ 在$[a,b]$中出现了多少次。</p><h2 id="输入输出样例"><a href="#输入输出样例" class="headerlink" title="输入输出样例"></a>输入输出样例</h2><p>输入 #1</p><figure class="highlight basic"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs basic"><span class="hljs-symbol">1 </span><span class="hljs-number">99</span><br></code></pre></td></tr></table></figure><p>输出 #1</p><figure class="highlight basic"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs basic"><span class="hljs-symbol">9 </span><span class="hljs-number">20</span> <span class="hljs-number">20</span> <span class="hljs-number">20</span> <span class="hljs-number">20</span> <span class="hljs-number">20</span> <span class="hljs-number">20</span> <span class="hljs-number">20</span> <span class="hljs-number">20</span> <span class="hljs-number">20</span><br></code></pre></td></tr></table></figure><h2 id="说明-x2F-提示"><a href="#说明-x2F-提示" class="headerlink" title="说明&#x2F;提示"></a>说明&#x2F;提示</h2><p><strong>数据规模与约定</strong></p><ul><li>对于30%的数据，保证 $a\le b \le 10^6$；</li><li>对于100%的数据，保证  $1\le a\le b \le 10^{12}$。</li></ul><h2 id="思路"><a href="#思路" class="headerlink" title="思路"></a>思路</h2><p>由暴力打表&#x2F;数学推导</p><p>有公式  $$f[i]&#x3D;10*f[i-1]+10^{i-1}$$ </p><p>即 $$f[i]&#x3D;i*10^{i-1}$$</p><p>表示所有$i$位数里0~9每一个数的个数（包含前导0，如001,002,003都是三位数，且01,001,0001看作不同的数)</p><p>考虑$i$位数，和$i-1$位数之间的关系：如 $abcd$ 拆成$0bcd, 1bcd, 2bcd….abcd$，从而进行计算</p><h2 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;algorithm&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;cstring&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><span class="hljs-type">const</span> <span class="hljs-type">int</span> N = <span class="hljs-number">20</span>;<br><span class="hljs-type">long</span> <span class="hljs-type">long</span> f[N], num[N], cnt[N], ten[N], ans[N];<br><span class="hljs-comment">//f[i]: 0 ~ 10^i-1 中每个数出现了几次(包含前导0)</span><br><span class="hljs-comment">//num:记录每一位数是多少    cnt:0~9每一个数出现过多少次     ten:记录10的i次方的值</span><br><br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">sol</span><span class="hljs-params">(<span class="hljs-type">long</span> <span class="hljs-type">long</span> n, <span class="hljs-type">bool</span> plus)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-built_in">memset</span>(cnt, <span class="hljs-number">0</span>, <span class="hljs-keyword">sizeof</span> cnt);<br>    <span class="hljs-type">int</span> len = <span class="hljs-number">0</span>;<span class="hljs-comment">//这个数的长度or位数</span><br>    <span class="hljs-type">long</span> <span class="hljs-type">long</span> m = n;<br>    <span class="hljs-keyword">while</span>(n) num[++ len] = n % <span class="hljs-number">10</span>, n /= <span class="hljs-number">10</span>;<span class="hljs-comment">// num[i]表示第i位数</span><br><br>    <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = len; i &gt;= <span class="hljs-number">1</span>; i --)<span class="hljs-comment">//从最高位开始，枚举数的长度（位数）</span><br>    &#123;<br>        <span class="hljs-comment">//数字x的出现次数分为两部分（第i位x的个数，小于i位x的个数）</span><br>        <span class="hljs-comment">//所有不在i位上的x</span><br>        <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> j = <span class="hljs-number">0</span>; j &lt;= <span class="hljs-number">9</span>; j ++)<br>            cnt[j] += num[i] * f[i - <span class="hljs-number">1</span>];<br><br>        <span class="hljs-comment">//所有第i位上的x</span><br>        <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> j = <span class="hljs-number">0</span>; j &lt; num[i]; j ++)<br>            cnt[j] += ten[i - <span class="hljs-number">1</span>];<br><br>        <span class="hljs-comment">//特殊的，对于x=nums[i]，我们后面选择的总数就不是10的i-1次方了，而是n % (10^i) + 1</span><br>        cnt[num[i]] += m % ten[i - <span class="hljs-number">1</span>] + <span class="hljs-number">1</span>;<br><br>        <span class="hljs-comment">//去掉前导0</span><br>        cnt[<span class="hljs-number">0</span>] -= ten[i - <span class="hljs-number">1</span>]; <br>        <span class="hljs-comment">//0有1种, 00,01,02...09有10^1种, 000,001,002...099有10^2种</span><br>    &#125;<br>    <span class="hljs-keyword">if</span>(plus) <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt;= <span class="hljs-number">9</span>; i ++) ans[i] += cnt[i];<br>    <span class="hljs-keyword">else</span> <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt;= <span class="hljs-number">9</span>; i ++) ans[i] -= cnt[i];<br>&#125;<br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-type">long</span> <span class="hljs-type">long</span> a, b;<br>   <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%lld%lld&quot;</span>, &amp;a, &amp;b);<br>    ten[<span class="hljs-number">0</span>] = <span class="hljs-number">1</span>;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">1</span>; i &lt;= <span class="hljs-number">15</span>; i ++)<br>        ten[i] = <span class="hljs-number">10</span> * ten[i - <span class="hljs-number">1</span>];<br><br>    <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">1</span>; i &lt;= <span class="hljs-number">15</span>; i ++)<br>        f[i] = <span class="hljs-number">10</span> * f[i - <span class="hljs-number">1</span>] + ten[i - <span class="hljs-number">1</span>];<br><br>    <span class="hljs-built_in">sol</span>(a - <span class="hljs-number">1</span>, <span class="hljs-literal">false</span>);<br>    <span class="hljs-built_in">sol</span>(b, <span class="hljs-literal">true</span>);<br><br>    <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt;= <span class="hljs-number">9</span>; i ++) <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%lld &quot;</span>, ans[i]);<br><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    
    <tags>
      
      <tag>solves</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Codeforces Round 765(Div.2) Problem C(两种DP方式)</title>
    <link href="/2022/03/01/cf765div2p3/"/>
    <url>/2022/03/01/cf765div2p3/</url>
    
    <content type="html"><![CDATA[<h1 id="Codeforces-Round-765-Div-2-Problem-C"><a href="#Codeforces-Round-765-Div-2-Problem-C" class="headerlink" title="Codeforces Round #765 (Div. 2) Problem C"></a>Codeforces Round #765 (Div. 2) Problem C</h1><h2 id="原题链接"><a href="#原题链接" class="headerlink" title="原题链接"></a>原题链接</h2><p><a href="https://codeforces.com/contest/1625/problem/C">Codeforces</a></p><h2 id="题意"><a href="#题意" class="headerlink" title="题意"></a>题意</h2><p>​        两地间距$l$千米，路上有$n$个路牌，第$i$个路牌的数字$a_i$表示必须以$a_i$分钟每千米的速度走到下一个路牌，$d[i]$表示到起点的距离。问拆掉$k$个路牌(第一个不能拆)，最短需要多少分钟就能到哪目的地。</p><h2 id="解法一"><a href="#解法一" class="headerlink" title="解法一"></a>解法一</h2><p>​        拿掉一个路牌之后会影响到到达后面一个路牌的时间，并且数据范围比较小，考虑$dp$。</p><p>​        $f[i][j]$表示到第$i$个路牌,已经去掉了$j$个路牌,并且第$i$个路牌不去掉的最短时间。$f[i][j]$可以由$i$前面的某个路牌$f[p][old_j]$直接到达，此时第$p+1$到$i-1$个路牌都被拆掉，$p$到$i$所需要的时间是$f[p][old_j]+(d[i]-d[p])*a[p]$，枚举每一个可能情况取$min$即可。</p><p>​        <strong>注意我们的$i$的范围是$0$到$n$，题目中只给了$0$到$n-1$一共$n$个路牌。为了方便我们在最后再加一个路牌。</strong></p><p>​        最后的$f[n][j]$表示走到第$n$个路牌，第$n$个路牌不拆，且前面一共拆了$j$个路牌，需要的最短时间。因为我们自己放置的路牌本就不存在，所以不能拆掉，正好就是我们要求的答案。而我们目前不知道拆掉几个的时候时间最短，所以对$f[n][0]$到$f[n][k]$取最小值即可。</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><code class="hljs CPP"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;algorithm&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;cstring&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><span class="hljs-type">const</span> <span class="hljs-type">int</span> N = <span class="hljs-number">505</span>;<br><span class="hljs-type">int</span> f[N][N], a[N], d[N];<br><span class="hljs-comment">//f[i][j] 到第i个路标,已经去掉了j个路标,并且第i个路标不去掉的最短时间</span><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br><span class="hljs-type">int</span> n, l, k;<br>cin &gt;&gt; n &gt;&gt; l &gt;&gt; k;<br><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; n; i ++) cin &gt;&gt; d[i];<br><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; n; i ++) cin &gt;&gt; a[i];<br><br>d[n] = l, a[n] = <span class="hljs-number">0</span>;<span class="hljs-comment">//终点加一个路标方便算</span><br><br><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt;= n; i ++)<br><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> j = <span class="hljs-number">0</span>; j &lt;= n; j ++)<br>f[i][j] = <span class="hljs-number">1e9</span>;<br>    <span class="hljs-comment">/*</span><br><span class="hljs-comment">    初始化初始状态，方便下面取min不会出错</span><br><span class="hljs-comment">    当然，也可以在下面递归的过程中初始化f[i][j]</span><br><span class="hljs-comment">    */</span><br><br>f[<span class="hljs-number">0</span>][<span class="hljs-number">0</span>] = <span class="hljs-number">0</span>;<br><br><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; i ++)&#123;<span class="hljs-comment">//第i个路标(从起点后面的那个路标开始算)</span><br><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> j = <span class="hljs-number">0</span>; j &lt;= k; j ++)&#123;<span class="hljs-comment">//前面去掉了j个路标</span><br>            <span class="hljs-comment">/*</span><br><span class="hljs-comment">            f[i][j] = f[i - 1][j] + (d[i] - d[i - 1]) * a[i - 1];</span><br><span class="hljs-comment">            上面不初始化为无限大就加一句这个，下面也可以变成 p &lt; i - 1</span><br><span class="hljs-comment">            */</span><br><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> p = <span class="hljs-number">0</span>; p &lt; i; p ++)&#123;<span class="hljs-comment">//i前面第一个没有去掉的路标p</span><br><span class="hljs-type">int</span> old_j = j - (i - p - <span class="hljs-number">1</span>);<span class="hljs-comment">//p前面去掉的路标数(p+1 ~ i-1的路标全部去掉了)</span><br><span class="hljs-keyword">if</span>(old_j &gt;= <span class="hljs-number">0</span>)<span class="hljs-comment">//如果p前面可以去掉old_j个路标</span><br>f[i][j] = <span class="hljs-built_in">min</span>(f[i][j], f[p][old_j] + (d[i] - d[p]) * a[p]);<br>&#125;<br>&#125;<br>&#125;<br><br><span class="hljs-type">int</span> ans = <span class="hljs-number">2e9</span>;<br><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt;= k; i ++) ans = <span class="hljs-built_in">min</span>(ans, f[n][i]);<br><br>cout &lt;&lt; ans &lt;&lt; endl;<br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="解法二"><a href="#解法二" class="headerlink" title="解法二"></a>解法二</h2><p>上面的$dp$函数$f[i][j]$的第二维$j$表示前面拆掉了多少个路牌，那么我们也可以将其表示为选择多少个路牌。最后在选择了$n-k$到$n$个路牌里面取最小值。</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;algorithm&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;cstring&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><span class="hljs-type">const</span> <span class="hljs-type">int</span> N = <span class="hljs-number">505</span>;<br><span class="hljs-type">int</span> f[N][N], a[N], d[N];<br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br><span class="hljs-type">int</span> n, l, k;<br>cin &gt;&gt; n &gt;&gt; l &gt;&gt; k;<br><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; n; i ++) cin &gt;&gt; d[i];<br><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; n; i ++) cin &gt;&gt; a[i];<br><br>d[n] = l, a[n] = <span class="hljs-number">0</span>;<br><br><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt;= n; i ++)<br><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> j = <span class="hljs-number">0</span>; j &lt;= n; j ++)<br>f[i][j] = <span class="hljs-number">1e9</span>;<br><br>f[<span class="hljs-number">0</span>][<span class="hljs-number">0</span>] = <span class="hljs-number">0</span>;<br><br><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; i ++)<span class="hljs-comment">//到达原第i个路标的位置</span><br><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> j = <span class="hljs-number">1</span>; j &lt;= i; j ++)<span class="hljs-comment">//一共选择了j个路标(包括i)</span><br><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> p = <span class="hljs-number">0</span>; p &lt; i; p ++)<span class="hljs-comment">//枚举i是从哪个路标过来的</span><br>f[i][j] = <span class="hljs-built_in">min</span>(f[i][j], f[p][j - <span class="hljs-number">1</span>] + (d[i] - d[p]) * a[p]);<br><br><br><span class="hljs-type">int</span> ans = <span class="hljs-number">2e9</span>;<br><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = n - k; i &lt;= n; i ++) ans = <span class="hljs-built_in">min</span>(ans, f[n][i]);<br><br>cout &lt;&lt; ans &lt;&lt; endl;<br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    
    <tags>
      
      <tag>solves</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>信号与系统C复习</title>
    <link href="/2022/02/28/SignalAndSystem/"/>
    <url>/2022/02/28/SignalAndSystem/</url>
    
    <content type="html"><![CDATA[<h1 id="信号与系统C复习-2021-12-23"><a href="#信号与系统C复习-2021-12-23" class="headerlink" title="信号与系统C复习 2021.12.23"></a>信号与系统C复习 2021.12.23</h1><h2 id="第1章-信号与系统的基本概念"><a href="#第1章-信号与系统的基本概念" class="headerlink" title="第1章 信号与系统的基本概念"></a>第1章 信号与系统的基本概念</h2><h3 id="1-1-信号的描述和分类"><a href="#1-1-信号的描述和分类" class="headerlink" title="1.1 信号的描述和分类"></a>1.1 信号的描述和分类</h3><h4 id="1-1-1-信号的特性"><a href="#1-1-1-信号的特性" class="headerlink" title="1.1.1 信号的特性"></a>1.1.1 信号的特性</h4><p>​    时域特性和频率特性。</p><p>​    (1) 时域：幅度随时间变化（表示为时间t的函数）。</p><p>​    (2) 频率：各正弦谐波分量的振幅和初相随时间变化（分解为许多不同频率的正弦分量）。</p><h4 id="1-1-2-信号的分类"><a href="#1-1-2-信号的分类" class="headerlink" title="1.1.2 信号的分类"></a>1.1.2 信号的分类</h4><p>​    确定和随机信号、连续时间$f(t)$ 和 离散时间$f(t_k)$，$f(kT)$，$f(k)$信号、<strong>周期和非周期信号。</strong></p><h4 id="1-1-3-信号周期性的判断"><a href="#1-1-3-信号周期性的判断" class="headerlink" title="1.1.3 信号周期性的判断"></a>1.1.3 信号周期性的判断</h4><p><strong>(1)</strong> <strong>连续信号：$T_1,T_2$存在最小公倍数，即$T_1&#x2F;T_2&#x3D;n_1&#x2F;n_2$为有理数，周期$T&#x3D;n_1T_1&#x3D;n_2T_2$，$n_1$和$n_2$为整数。</strong></p><p>​    $f_T(t) &#x3D; f_T(t + T) (-\infty &lt; t &lt; \infty)$</p><p>​    <strong>周期 $T&#x3D;2\pi&#x2F;\omega_0$</strong></p><p>​    <strong>角频率 $\omega_0 &#x3D; 2\pi &#x2F; T (rad &#x2F; s)$</strong></p><p><strong>(2)</strong> <strong>离散信号：正弦序列 $x(k) &#x3D; Asin(\Omega_0k + \varphi)$，当$\Omega_0 &#x2F; 2\pi &#x3D; m &#x2F; N$是有理数时，为周期序列，周期为N，是无理数时，为非周期序列。</strong></p><p>​    $f_N(k)&#x3D;f_N(k+N)(-\infty&lt;k&lt;\infty,k和N取整数)$</p><p>​    周期$N$</p><p>​    数字角频率$\Omega_0&#x3D;\omega_0T_s(rad)$</p><h4 id="考点"><a href="#考点" class="headerlink" title="考点"></a><u><em><strong>考点</strong></em></u></h4><p><em><strong>想要判断是周期 &#x2F; 非周期信号，连续就用 $T_1&#x2F;T_2&#x3D;n_1&#x2F;n_2$是有理数结合 $T&#x3D;2\pi&#x2F;\omega_0$，离散就用 $\Omega_0 &#x2F; 2\pi &#x3D; m &#x2F; N$是有理数。</strong></em></p><h3 id="1-2-系统的描述和分类"><a href="#1-2-系统的描述和分类" class="headerlink" title="1.2 系统的描述和分类"></a>1.2 系统的描述和分类</h3><h4 id="1-2-1-系统的分类"><a href="#1-2-1-系统的分类" class="headerlink" title="1.2.1 系统的分类"></a>1.2.1 系统的分类</h4><p>​    连续和离散时间系统、线性和非线性系统、时变和时不变系统。</p><h4 id="1-2-2-连续时间和离散时间系统"><a href="#1-2-2-连续时间和离散时间系统" class="headerlink" title="1.2.2 连续时间和离散时间系统"></a>1.2.2 连续时间和离散时间系统</h4><p>​    输入和输出都是连续（离散）时间信号的系统。</p><h4 id="1-2-3-线性系统和非线性系统"><a href="#1-2-3-线性系统和非线性系统" class="headerlink" title="1.2.3 线性系统和非线性系统"></a>1.2.3 <strong>线性系统</strong>和非线性系统</h4><h5 id="1-线性特性"><a href="#1-线性特性" class="headerlink" title="(1) 线性特性"></a>(1) 线性特性</h5><p>​        齐次性：若$x(t)\rightarrow y(t)$，则$kx(t)\rightarrow ky(t)$</p><p>​        叠加性：若$x_1(t)\rightarrow y_1(t)$，$x_2(t)\rightarrow y_2(t)$，则$x_1(t) + x_2(t)\rightarrow y_1(t)+y_2(t)$ </p><p>​        <strong>线性系统：</strong>若$x_1(t)\rightarrow y_1(t)$，$x_2(t)\rightarrow y_2(t)$，则$k_1x_1(t) + k_2x_2(t)\rightarrow k_1y_1(t)+k_2y_2(t)$ </p><h4 id="考点-1"><a href="#考点-1" class="headerlink" title="考点"></a><u><em>考点</em></u></h4><p><em><strong>对于不具有初始状态的系统，想要判断是线性 &#x2F; 非线性系统，只要判断是否满足上述条件。</strong></em></p><h5 id="2-具有初始状态的系统"><a href="#2-具有初始状态的系统" class="headerlink" title="(2) 具有初始状态的系统"></a>(2) 具有初始状态的系统</h5><p>​        其响应包括：</p><p>​        <strong>零状态响应</strong>$y_{zs}(t)$：初始状态为零，仅由外部激励作用引起的响应。</p><p>​        <strong>零输入响应</strong>$y_{zi}(t)$：外部激励为零，仅由初始状态作用引起的响应。</p><p>​        <strong>全响应</strong>$y(t)$：两个共同作用，称为完全响应。</p><p>​        对于<strong>具有初始状态</strong>的线性系统应具有下列特性：</p><p>​        <strong>a.分解性 ：</strong>全相应 &#x3D; 零输入响应 + 零状态响应</p><p>​        <strong>b.零输入线性：</strong>系统有多个初始状态时，零输入响应对每个初始状态呈线性。</p><p>​        <strong>c.零状态线性：</strong>系统有多个输入时，零状态响应对每个输入呈线性。</p><h4 id="考点-2"><a href="#考点-2" class="headerlink" title="考点"></a><u><em>考点</em></u></h4><p><em><strong>对于具有初始状态的系统，想要判断是线性 &#x2F; 非线性系统，就要判断是否满足三个条件：</strong></em></p><p><em><strong>1.分解性。</strong></em></p><p><em><strong>2.零输入线性。</strong></em></p><p><em><strong>3.零状态线性。</strong></em></p><p><strong>例如：</strong></p><p> $y(t)&#x3D;3x(t)+2q(0)$ ：</p><p>(1)    零状态响应：$y_{zs}(t) &#x3D; 3x(t)$     零输入响应：$y_{zi}&#x3D;2q(0)$    系统具有可分解性。</p><p>(2)    假设    $x_1(t)$    单独激励的零状态响应为    $y_{1zs}&#x3D;3x_1(t)$，    $x_2(t)$    为    $y_{2zs}&#x3D;3x_2(t)$</p><p>​        则当激励为    $x_a(t)&#x3D;k_1x_1(t)+k_2x_2(t)$    </p><p>​        系统零状态响应为    $y_{azs}(t)&#x3D;3x_a(t)&#x3D;3[k_1x_1(t)+k_2x_2(t)]$</p><p>​        而    $k_1y_{1zs}(t)+k_2y_{2zs}(t)&#x3D;k_1[3x_1(t)]+k_2[3x_2(t)]&#x3D;y_{azs}(t)$</p><p>​        所以零状态响应满足线性。</p><p>(3)    假设    $y_{1zi}&#x3D;2q_1(0)$    $y_{2zi}&#x3D;2q_2(0)$    </p><p>​        则当初始状态    $q_a(0)&#x3D;k_1q_1(0)+k_2q_2(0)$</p><p>​        系统的零输入响应为    $y_{azi}(t)&#x3D;2[k_1q_1(0)+k_2q_2(0)]$</p><p>​        而    $k_1y_{1zi}(t)+k_2y_{2zi}(t)&#x3D;k_1[2q_1(0)]+k_2[q_2(0)]&#x3D;y_{azi}(t)$</p><p>​        所以零输入响应满足线性。</p><p>所以，该系统同时满足线性系统的三个条件，所以是线性系统。</p><p>​        </p><h4 id="1-2-4-时不变系统和时变系统"><a href="#1-2-4-时不变系统和时变系统" class="headerlink" title="1.2.4 时不变系统和时变系统"></a>1.2.4 时不变系统和时变系统</h4><p>​    时不变系统：系统的<strong>零状态响应</strong>的特性不随时间的变化而改变。即</p><p>若    $x(t)\rightarrow y(t)$    则    $x(t-t_d)\rightarrow y(t-t_d)$</p><h4 id="考点-3"><a href="#考点-3" class="headerlink" title="考点"></a><u><em>考点</em></u></h4><p><em><strong>想要判断系统是时变 &#x2F; 时不变系统，只要判断是否满足上述条件</strong></em>。</p><p><strong>例如：</strong></p><p>$y(t)&#x3D;sin[x(t)]$ ：</p><p>$x_1(t)\rightarrow y_1(t) &#x3D; sin[x_1(t)]$</p><p>若    $x_1(t)&#x3D;x(t-t_d)\rightarrow y_1(t)&#x3D;sin[x_1(t)]&#x3D;sin[x(t-t_d)]$</p><p>而    $y(t-t_d) &#x3D; sin[x(t - t_d)]&#x3D;y_1(t)$</p><p>所以该系统为时不变系统。</p><h4 id="1-2-5-因果系统和非因果系统"><a href="#1-2-5-因果系统和非因果系统" class="headerlink" title="1.2.5 因果系统和非因果系统"></a>1.2.5 因果系统和非因果系统</h4><p>​    <strong>因果系统</strong>：是指响应不会超前于激励的系统，没有输入就没有输出。反之为非因果系统。</p><p>​    任何时刻的响应只取决于激励的现在与过去值，而与激励的将来值无关。</p><p>​    如：    $\int_{-\infty}^t x(\tau)d\tau$</p><h3 id="1-3-信号与系统分析概述（了解）"><a href="#1-3-信号与系统分析概述（了解）" class="headerlink" title="1.3 信号与系统分析概述（了解）"></a>1.3 信号与系统分析概述（了解）</h3><ol><li><p>信号与系统的基本内容：</p><p>信号分析、系统分析</p></li><li><p>本课程只限于讨论信号与线性时不变系统的分析。</p></li><li><p>本课程只讨论采用输入－输出关系描述的单输入－单输出系统。</p></li><li><p>本课程只讨论确定信号及其作用于线性时不变系统的响应：</p><p>确定信号：解析法、随机信号：概率统计</p></li><li><p>信号与系统分析可以在时间域中进行，也可以在变换域中进行：</p><p>时间域：物理概念清楚，但计算繁琐</p><p>变换域：简化计算</p></li></ol><h2 id="第2章-连续时间信号与系统的时域分析"><a href="#第2章-连续时间信号与系统的时域分析" class="headerlink" title="第2章 连续时间信号与系统的时域分析"></a>第2章 连续时间信号与系统的时域分析</h2><h3 id="2-1-典型连续时间信号"><a href="#2-1-典型连续时间信号" class="headerlink" title="2.1 典型连续时间信号"></a>2.1 典型连续时间信号</h3><h4 id="2-1-1-复指数信号"><a href="#2-1-1-复指数信号" class="headerlink" title="2.1.1 复指数信号"></a>2.1.1 复指数信号</h4><p>数学表达式：$f(t) &#x3D; Ae^{st}$        复振幅：$A&#x3D;|A|e^{j\theta}$        复频率：$s&#x3D;\sigma+j\omega$</p><p>欧拉公式展开：$Ae^{st}&#x3D;|A|e^{j\theta}e^{(\sigma+j\omega_0)t}&#x3D;|A|e^{\sigma t}cos(\omega_0t+\theta)+j|A|e^{\sigma t}sin(\omega_0t+\theta)$</p><p>根据A和s的取值不同，$Ae^{st}$可用来表示不同的信号：</p><h5 id="1-直流信号"><a href="#1-直流信号" class="headerlink" title="(1) 直流信号"></a>(1) 直流信号</h5><p>​    当A为实数，s &#x3D; 0（即$\sigma &#x3D; 0$，$\omega_0 &#x3D; 0$），此时$Ae^{st}&#x3D;A$成为直流信号。</p><h5 id="2-实指数信号"><a href="#2-实指数信号" class="headerlink" title="(2) 实指数信号"></a>(2) 实指数信号</h5><p>​    当A为实数，$\omega_0&#x3D;0$时，$Ae^{st}&#x3D;Ae^{\sigma t}$单调增长($\sigma&gt;0$)或衰减($\sigma&lt;0$)的实指数信号。</p><h5 id="3-正弦信号（虚指数信号）"><a href="#3-正弦信号（虚指数信号）" class="headerlink" title="(3) 正弦信号（虚指数信号）"></a>(3) 正弦信号（虚指数信号）</h5><p>​    当A为复数，$\sigma&#x3D;0$，则此时$Ae^{st}&#x3D;|A|cos(\omega_0t+\theta)+j|A|sin(\omega_0t+\theta)$，实部为等幅的余弦信号，虚部为等幅的正弦信号。</p><h5 id="4-复指数信号"><a href="#4-复指数信号" class="headerlink" title="(4) 复指数信号"></a>(4) 复指数信号</h5><p>​    一般情况下：$Ae^{st}&#x3D;|A|e^{j\theta}e^{(\sigma+j\omega_0)t}&#x3D;|A|e^{\sigma t}cos(\omega_0t+\theta)+j|A|e^{\sigma t}sin(\omega_0t+\theta)$    </p><p>​    实部为增长(增幅)($\sigma&gt;0$)或衰减($\sigma&lt;0$)的余弦信号，虚部为增长(增幅)($\sigma&gt;0$)或衰减($\sigma&lt;0$)的正弦信号。</p>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>基于Hexo+Nginx+Git在云服务器上搭建个人网站</title>
    <link href="/2022/02/28/newHexoBlog/"/>
    <url>/2022/02/28/newHexoBlog/</url>
    
    <content type="html"><![CDATA[<p>​        </p><h1 id="基于Hexo-Nginx-Git在云服务器上搭建个人网站"><a href="#基于Hexo-Nginx-Git在云服务器上搭建个人网站" class="headerlink" title="基于Hexo+Nginx+Git在云服务器上搭建个人网站"></a>基于Hexo+Nginx+Git在云服务器上搭建个人网站</h1><h2 id="环境"><a href="#环境" class="headerlink" title="环境"></a>环境</h2><p>本地环境：Windows11专业版 21H2    </p><p>云服务器：腾讯云 轻量应用服务器 Ubuntu Server 20.04 LTS 64bit</p><h2 id="本地端"><a href="#本地端" class="headerlink" title="本地端"></a>本地端</h2><h3 id="安装-Git"><a href="#安装-Git" class="headerlink" title="安装 Git"></a>安装 Git</h3><p>  <a href="https://git-scm.com/">Git</a> <a href="https://www.runoob.com/git/git-tutorial.html">Git 教程</a></p><h3 id="安装Node-js"><a href="#安装Node-js" class="headerlink" title="安装Node.js"></a>安装Node.js</h3><p> <a href="https://nodejs.org/en/">Node.js</a></p><h3 id="安装Hexo"><a href="#安装Hexo" class="headerlink" title="安装Hexo"></a>安装Hexo</h3><p>打开 Git Bash，输入命令：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">npm install -g hexo-cli<br>hexo version<br></code></pre></td></tr></table></figure><img src="/2022/02/28/newHexoBlog/hexover.png" alt style="zoom:67%;"><p>显示出版本号则成功。</p><p>自定义博客文件夹名，默认生成在C盘用户文件夹。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">hexo init myblog<br><span class="hljs-built_in">cd</span> myblog<br></code></pre></td></tr></table></figure><p><strong>小技巧：在myblog文件夹上右键点击“Git Bash Here” 即可快速打开bash到这个文件夹内。</strong></p><p>测试Hexo是否能生成网页：</p><p>输入<code>hexo generate</code>  或者 <code>hexo g</code> ：生成静态文件。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">hexo generate<br></code></pre></td></tr></table></figure><p>输入 <code>hexo server - port xxxx</code> 或者 <code>hexo s -p xxxx</code> 在指定端口启动本地服务器(默认在4000端口)。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">hexo server - port xxxx<br></code></pre></td></tr></table></figure><img src="/2022/02/28/newHexoBlog/hexospo.png"><p>在本地访问<code>localhost:xxxx</code>或者在上面指令后加 <code>-o</code> 即可打开Hexo博客主页。</p><p>默认是landscape主题，图中是NexT主题。</p><img src="/2022/02/28/newHexoBlog/localhost4000.png" alt style="zoom: 33%;"><h2 id="服务器端"><a href="#服务器端" class="headerlink" title="服务器端"></a>服务器端</h2><p>通过服务器官方网页登陆或者SSH登录服务器终端（PuTTY&#x2F;XShell）。</p><h3 id="安装Git和Nginx"><a href="#安装Git和Nginx" class="headerlink" title="安装Git和Nginx"></a>安装Git和Nginx</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">apt-get update<br>apt-get install git nginx -y<br></code></pre></td></tr></table></figure><h3 id="创建Git仓库"><a href="#创建Git仓库" class="headerlink" title="创建Git仓库"></a>创建Git仓库</h3><p>建立文件路径并修改权限：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">mkdir</span> /var/repo/<br><span class="hljs-built_in">chown</span> -R <span class="hljs-variable">$USER</span>:<span class="hljs-variable">$USER</span> /var/repo/<br><span class="hljs-built_in">chmod</span> -R 755 /var/repo/<br></code></pre></td></tr></table></figure><p>创建远程Git仓库：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">cd</span> /var/repo<br>git init --bare myblog.git<br></code></pre></td></tr></table></figure><h3 id="配置Nginx"><a href="#配置Nginx" class="headerlink" title="配置Nginx"></a>配置Nginx</h3><p>创建目录并修改目录所有权和权限，用于存放静态网页文件：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">mkdir</span> -p /var/www/hexo<br><span class="hljs-built_in">chown</span> -R <span class="hljs-variable">$USER</span>:<span class="hljs-variable">$USER</span> /var/www/hexo<br><span class="hljs-built_in">chmod</span> -R 755 /var/www/hexo<br></code></pre></td></tr></table></figure><p>修改Nginx的配置文件，把网页根目录指向刚刚创建的文件夹：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">vim /etc/nginx/sites-available/default<br></code></pre></td></tr></table></figure><img src="/2022/02/28/newHexoBlog/nginxroot.png" alt style="zoom: 67%;"><p>重启Nginx：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">service nginx restart<br></code></pre></td></tr></table></figure><p>此时浏览器输入自己的公网ip就可以访问到Nginx的空页（403 Forbidden）。</p><img src="/2022/02/28/newHexoBlog/403 forbidden.png" alt style="zoom: 50%;"><h3 id="配置Git-hooks文件"><a href="#配置Git-hooks文件" class="headerlink" title="配置Git hooks文件"></a>配置Git hooks文件</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">vim /var/repo/myblog.git/hooks/post-receive<br></code></pre></td></tr></table></figure><p>打开文件，输入以下代码：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-meta">#!/bin/bash</span><br>git --work-tree=/var/www/hexo --git-dir=/var/repo/myblog.git checkout -f<br></code></pre></td></tr></table></figure><p>保存后修改权限：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">chmod</span> +x /var/repo/myblog.git/hooks/post-receive<br></code></pre></td></tr></table></figure><h3 id="部署本地Hexo"><a href="#部署本地Hexo" class="headerlink" title="部署本地Hexo"></a>部署本地Hexo</h3><p>回到本地hexo文件夹，Git Bash输入：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">git <span class="hljs-built_in">clone</span> root@&#123;云服务器IP&#125;:/var/repo/myblog.git<br></code></pre></td></tr></table></figure><p>然后修改文件夹中的配置文件 “_config.yml”：</p><p>找到”url：” 将后面的网址改为服务器网址。</p><img src="/2022/02/28/newHexoBlog/url.png" alt style="zoom: 67%;"><p>找到”deploy”，改为：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash">deploy:<br> <span class="hljs-built_in">type</span>: <span class="hljs-string">&#x27;git&#x27;</span><br> repo:   &#123;服务器用户名&#125;@&#123;服务IP&#125;:/var/repo/myblog.git：<br></code></pre></td></tr></table></figure><img src="/2022/02/28/newHexoBlog/deploy.png" alt style="zoom: 67%;"><p>保存后，在Bash输入：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash">hexo clean<br>hexo generate<br>hexo deploy<br></code></pre></td></tr></table></figure><p>或者</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">hexo clean &amp;&amp; hexo g -d<br></code></pre></td></tr></table></figure><img src="/2022/02/28/newHexoBlog/pswd.png" alt style="zoom: 67%;"><p>输入服务器的密码，完成部署。</p><p>当然，我们也可以不用输入密码就可以连接服务器</p><h3 id="生成ssh密钥"><a href="#生成ssh密钥" class="headerlink" title="生成ssh密钥"></a>生成ssh密钥</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs bash">git config --global user.name <span class="hljs-string">&quot;your username&quot;</span><br>git config --global user.email <span class="hljs-string">&quot;your email&quot;</span><br><br>ssh-keygen -t rsa -C <span class="hljs-string">&quot;your email&quot;</span><br></code></pre></td></tr></table></figure><p>输入后会有三次询问，不管直接回车即可。</p><p>之后在C盘用户文件夹里就会出现.ssh文件夹，里面的id_rsa.pub就是密钥。</p><h3 id="建立SSH信任关系"><a href="#建立SSH信任关系" class="headerlink" title="建立SSH信任关系"></a>建立SSH信任关系</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">ssh-copy-id -i ~/.ssh/id_rsa.pub &#123;服务器用户名&#125;@&#123;服务器ip&#125;<br>ssh -T &#123;服务器用户名&#125;@&#123;服务器ip&#125;<br></code></pre></td></tr></table></figure><img src="/2022/02/28/newHexoBlog/ssh.png" alt style="zoom: 67%;"><img src="/2022/02/28/newHexoBlog/sshlogout.png" alt style="zoom: 67%;"><p>如果不需要密码就可以直接登录，说明配置成功。</p><img src="/2022/02/28/newHexoBlog/final.png"><p>至此，就可以使用你的服务器ip或者域名进入博客啦。</p><h2 id="结束语"><a href="#结束语" class="headerlink" title="结束语"></a>结束语</h2><p>经过一天的折腾，终于在服务器上成功部署了Hexo博客。曾经遇到过部署之后样式全部丢失的情况，在网上找了许多方法都不能解决。网上大部分教程都是将Hexo部署在Github或者Gitee上面，而部署在服务器上的教程并不多，所以写这一篇记录一下第一次搭建Hexo的过程。</p><h2 id="补充"><a href="#补充" class="headerlink" title="补充"></a>补充</h2><p>在文章中插入图片：除了修改hexo配置文件和插件文件之外，md的插入图片代码也要写成类似<code>&lt;img src=&quot;newHexoBlog\final.png&quot;/&gt;</code>的形式，前面没有<code>&quot;\&quot;</code>。写成<code>![]()</code>在我的环境下是显示不出来的，原因可能与这个有关：<a href="https://www.jianshu.com/p/75a8b0d9b969">HEXO博客文章图片展示问题</a></p><h2 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h2><p>​    <a href="https://blog.0xfaner.top/posts/hexo-config-guide/">Hexo 博客配置指南</a></p><p>​    <a href="https://blog.csdn.net/weixin_43340015/article/details/120831536">阿里云服务器+Hexo+Nginx搭建个人博客网站</a></p><p>​    <a href="https://www.jianshu.com/p/f72aaad7b852">HEXO插入图片（详细版）</a> </p>]]></content>
    
    
    
  </entry>
  
  
  
  
</search>
